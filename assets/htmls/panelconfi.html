
<div class="app-settings-header">
  <h2 class="app-settings-title">Configuración</h2>
  <button class="btn btn-icon settings-close-btn" id="settings-close" type="button" aria-label="Cerrar" data-action="close-settings">
    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round">
      <line x1="18" y1="6" x2="6" y2="18"></line>
      <line x1="6" y1="6" x2="18" y2="18"></line>
    </svg>
  </button>
</div>

<div class="app-settings-body">
  
  <div class="settings-card settings-card-visible">
    <div class="settings-card-header">
      <div class="settings-card-title-group">
        <svg class="settings-card-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round">
          <circle cx="12" cy="12" r="5"></circle>
          <line x1="12" y1="1" x2="12" y2="3"></line>
          <line x1="12" y1="21" x2="12" y2="23"></line>
          <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
          <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
          <line x1="1" y1="12" x2="3" y2="12"></line>
          <line x1="21" y1="12" x2="23" y2="12"></line>
          <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
          <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
        </svg>
        <h3 class="settings-card-title">Tema</h3>
      </div>
    </div>
    <div class="settings-card-content">
      <div class="theme-switch-group">
        <label class="theme-switch-option">
          <input type="radio" name="theme" value="light" id="theme-light">
          <span class="theme-switch-label">Claro</span>
        </label>
        <label class="theme-switch-option">
          <input type="radio" name="theme" value="dark" id="theme-dark">
          <span class="theme-switch-label">Oscuro</span>
        </label>
      </div>
    </div>
  </div>

  
  <div class="settings-card settings-card-visible">
    <div class="settings-card-header">
      <div class="settings-card-title-group">
        <svg class="settings-card-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round">
          <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
          <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
        </svg>
        <h3 class="settings-card-title">Seguridad</h3>
      </div>
    </div>
    <div class="settings-card-content">
      <p class="security-info-text">Las llamadas P2P solo se realizan manualmente. No hay fetch automático ni ejecución en background.</p>
    </div>
  </div>

  
  <div class="settings-card settings-card-collapsable">
    <button class="btn btn-secondary settings-card-header settings-card-toggle" id="prices-accordion-header" type="button" aria-expanded="false" aria-controls="prices-accordion-content">
      <div class="settings-card-title-group">
        <svg class="settings-card-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round">
          <line x1="12" y1="1" x2="12" y2="23"></line>
          <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
        </svg>
        <h3 class="settings-card-title">Precios usados para el cálculo</h3>
      </div>
      <svg class="settings-card-chevron" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round">
        <polyline points="6 9 12 15 18 9"></polyline>
      </svg>
    </button>
    <div class="settings-card-content settings-accordion-content ui-hidden" id="prices-accordion-content" aria-labelledby="prices-accordion-header" data-expanded="false">
      <dl class="prices-definition-list">
        <div id="prices-used-content">
          <div class="prices-empty-message">Los precios aún no se han cargado</div>
        </div>
      </dl>
      <div class="prices-source-info">
        <span class="prices-source-text">Precios derivados de la mediana de anuncios P2P filtrados</span>
      </div>
    </div>
  </div>

  
  <div class="settings-card settings-card-collapsable">
    <button class="btn btn-secondary settings-card-header settings-card-toggle" id="system-accordion-header" type="button" aria-expanded="false" aria-controls="system-accordion-content">
      <div class="settings-card-title-group">
        <svg class="settings-card-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round">
          <circle cx="12" cy="12" r="10"></circle>
          <polyline points="12 6 12 12 16 14"></polyline>
        </svg>
        <h3 class="settings-card-title">Estado del sistema</h3>
      </div>
      <svg class="settings-card-chevron" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round">
        <polyline points="6 9 12 15 18 9"></polyline>
      </svg>
    </button>
    <div class="settings-card-content settings-accordion-content ui-hidden" id="system-accordion-content" aria-labelledby="system-accordion-header" data-expanded="false">
      <dl class="system-definition-list">
        <div class="system-definition-item">
          <dt class="system-definition-term">Estado del cache</dt>
          <dd class="system-definition-desc">
            <span class="system-status-badge" id="system-cache-status-badge">
              <span class="badge-text" id="system-cache-status">EXPIRADO</span>
            </span>
          </dd>
        </div>
        <div class="system-definition-item">
          <dt class="system-definition-term">TTL del cache restante</dt>
          <dd class="system-definition-desc">
            <span class="system-status-value" id="system-cache-ttl">—</span>
          </dd>
        </div>
        <div class="system-definition-item">
          <dt class="system-definition-term">Última actualización API</dt>
          <dd class="system-definition-desc">
            <span class="system-status-value" id="system-last-update">Nunca</span>
          </dd>
        </div>
        <div class="system-definition-item">
          <dt class="system-definition-term">Cooldown de actualización</dt>
          <dd class="system-definition-desc">
            <span class="system-status-value" id="system-cooldown-status">NO</span>
          </dd>
        </div>
      </dl>
    </div>
  </div>
</div>
